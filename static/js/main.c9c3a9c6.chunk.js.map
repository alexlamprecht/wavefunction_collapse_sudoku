{"version":3,"sources":["Board.js","index.js"],"names":["Board","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","bind","assertThisInitialized","randomDataIndex","Math","floor","random","sudoku","data","length","state","initializeboardState","hasHelp","dataIndex","undefined","console","log","cells","split","map","c","isActive","parseInt","value","isInitial","allowedNumbers","Set","Array","from","_","i","setState","cellNumber","column","row","blockColumn","blockRow","foundNumbers","x","add","y","index","has","activeState","updateCells","computeAllowedNumbers","react_default","a","createElement","Board_Cell","key","concat","number","_this2","push","renderCell","className","type","id","defaultChecked","onChange","toggleHelp","for","onClick","e","resetInitialIndex","Component","Cell","_this3","handleClickOnNumber","val","v","numbers","size","Board_Error","isProtected","isHidden","isHightlight","Board_Number","handleClick","current_state","React","Error","Number","_this4","renderNumber","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_Board_0"],"mappings":"mRAIMA,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,aAAeP,EAAKO,aAAaC,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpB,IAAIU,EAAkBC,KAAKC,MAAMD,KAAKE,SAAWC,EAAOC,KAAKC,QAH5C,OAIjBhB,EAAKU,gBAAkBA,EACvBV,EAAKiB,MAAQjB,EAAKkB,qBAAqBR,GACvCV,EAAKiB,MAAME,SAAU,EANJnB,oFASEoB,GACnB,YAAkBC,IAAdD,GACFE,QAAQC,IAAI,SAAUH,EAAW,uBAC1B,CACLI,MAAOV,EAAOC,KAAKK,GAAWK,MAAM,IAAIC,IAAI,SAACC,GAC3C,MAAO,CACLC,SAAUC,SAASF,GAAK,EACxBG,MAAOD,SAASF,GAChBI,UAAWF,SAASF,GAAK,EACzBK,eAAgB,IAAIC,SAKrB,CACLT,MAAOU,MAAMC,KAAK,CAAEnB,OAAQ,IAAM,SAACoB,EAAGC,GACpC,MAAO,CACLT,UAAU,EACVE,MAAO,EACPC,WAAW,EACXC,eAAgB,IAAIC,IAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,oDAOvD,IAAIvB,EAAkBC,KAAKC,MAAMD,KAAKE,SAAWC,EAAOC,KAAKC,QAC7Db,KAAKO,gBAAkBA,EACvBP,KAAKmC,SAASnC,KAAKe,qBAAqBR,kDAGpB6B,GACpB,IAAKpC,KAAKc,MACR,OAAOiB,MAAMC,KAAK,CAAEnB,OAAQ,GAAK,SAACoB,EAAGC,GAAJ,OAAUA,EAAI,IASjD,IAPA,IAAMG,EAASD,EAAa,EACtBE,EAAM9B,KAAKC,MAAM2B,EAAa,GAC9BG,EAAc/B,KAAKC,MAAM4B,EAAS,GAClCG,EAAWhC,KAAKC,MAAM6B,EAAM,GAE5BG,EAAe,IAAIX,IAEhBY,EAAI,EAAGA,EAAI,EAAGA,IACrBD,EAAaE,IAAIjB,SAAS1B,KAAKc,MAAMO,MAAY,EAANiB,EAAUI,GAAGf,QAG1D,IAAK,IAAIe,EAAI,EAAGA,EAAI,EAAGA,IACrBD,EAAaE,IAAIjB,SAAS1B,KAAKc,MAAMO,MAAMgB,EAAS,EAAIK,GAAGf,QAG7D,IAAK,IAAIe,EAAI,EAAGA,EAAI,EAAGA,IACrB,IAAK,IAAIE,EAAI,EAAGA,EAAI,EAAGA,IACrBH,EAAaE,IACXjB,SACE1B,KAAKc,MAAMO,MAAiB,EAAXmB,EAAe,EAAkB,EAAdD,EAAkBG,EAAI,EAAIE,GAC3DjB,QAOX,IADA,IAAME,EAAiB,IAAIC,IAClBe,EAAQ,EAAGA,GAAS,EAAGA,IACzBJ,EAAaK,IAAID,IAAQhB,EAAec,IAAIE,GAEnD,OAAOhB,uCAGIO,EAAYW,EAAapB,GACpC,IAAMqB,EAAchD,KAAKc,MAAMO,MAE/B2B,EAAYZ,GAAc,CACxBX,SAAUsB,EACVpB,SAEF3B,KAAKmC,SAAS,CAAEd,MAAO2B,yCAIvBhD,KAAKmC,SAAS,CAAEnB,SAAUhB,KAAKc,MAAME,6CAG5BkB,GACT,IAAML,EAAiB7B,KAAKiD,sBAAsBf,GAClD,OACEgB,EAAAC,EAAAC,cAACC,EAAD,CACEC,IAAG,QAAAC,OAAUrB,GACbsB,OAAQtB,EACRT,SAAUzB,KAAKc,MAAMO,MAAMa,GAAGT,SAC9BG,UAAW5B,KAAKc,MAAMO,MAAMa,GAAGN,UAC/BD,MAAO3B,KAAKc,MAAMO,MAAMa,GAAGP,MAC3BE,eAAgBA,EAChBb,QAAShB,KAAKc,MAAME,QACpBZ,aAAcJ,KAAKI,gDAOvB,IAFO,IAAAqD,EAAAzD,KACDqB,EAAQ,GACLa,EAAI,EAAGA,EAAI,GAAIA,IACtBb,EAAMqC,KAAK1D,KAAK2D,WAAWzB,IAE7B,OACEgB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,kBACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SAAf,IAAyBvC,GAEzB6B,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,eACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,uBACbV,EAAAC,EAAAC,cAAA,SACES,KAAK,WACLC,GAAG,SACHC,eAAgB/D,KAAKc,MAAME,QAC3BgD,SAAU,kBAAMP,EAAKQ,gBAEvBf,EAAAC,EAAAC,cAAA,SAAOc,IAAI,UAAX,SAGFhB,EAAAC,EAAAC,cAAA,UACEQ,UAAU,WACVO,QAAS,SAACC,GACRX,EAAKtB,SAASsB,EAAKY,uBAHvB,UAQAnB,EAAAC,EAAAC,cAAA,UACEQ,UAAU,WACVO,QAAS,SAACC,GACRX,EAAKtB,SAASsB,EAAK1C,qBAAqB0C,EAAKlD,oBAHjD,SAQA2C,EAAAC,EAAAC,cAAA,UACEQ,UAAU,WACVO,QAAS,SAACC,GACRX,EAAKtB,SAASsB,EAAK1C,0BAHvB,kBAjJUuD,aA+JdC,cACJ,SAAAA,EAAY3E,GAAO,IAAA4E,EAAA,OAAA1E,OAAAC,EAAA,EAAAD,CAAAE,KAAAuE,IACjBC,EAAA1E,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyE,GAAApE,KAAAH,KAAMJ,KACDkB,MAAQ,CACXW,SAAU7B,EAAM6B,SAChBE,MAAO/B,EAAM+B,MACb6B,OAAQ5D,EAAM4D,OACd3B,eAAgBjC,EAAMiC,gBAExB2C,EAAKpE,aAAeoE,EAAKpE,aAAaC,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAA0E,KACpBA,EAAKC,oBAAsBD,EAAKC,oBAAoBpE,KAAzBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAA0E,KATVA,4EAmBNE,GACX,OAAI1E,KAAKJ,MAAM6B,SACNzB,KAAKJ,MAAMQ,aAAaJ,KAAKJ,MAAM4D,QAAQ,EAAO,GAEpDxD,KAAKJ,MAAMQ,aAAaJ,KAAKJ,MAAM4D,QAAQ,EAAMkB,+CAGtCC,GAClB3E,KAAKI,aAAauE,oCAIlB,IAAMC,EAAU,GAChB,GAAuC,IAAnC5E,KAAKc,MAAMe,eAAegD,OAAe7E,KAAKc,MAAMW,SACtD,OACEyB,EAAAC,EAAAC,cAAA,OAAKQ,UAAS,QACZV,EAAAC,EAAAC,cAAC0B,EAAD,OAIN,IAAK,IAAI5C,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAMT,EAAWzB,KAAKc,MAAMa,QAAUO,EAAI,EACpC6C,EAAc/E,KAAKc,MAAMa,QAAUO,EAAI,GAAKlC,KAAKJ,MAAMgC,UACvDoD,EACHhF,KAAKc,MAAMW,UAAYzB,KAAKc,MAAMa,QAAUO,EAAI,IAC/ClC,KAAKc,MAAMW,UACXzB,KAAKJ,MAAMoB,UACVhB,KAAKc,MAAMe,eAAeiB,IAAIZ,EAAI,GACjC+C,GACHD,GACDhF,KAAKJ,MAAMoB,SACwB,IAAnChB,KAAKc,MAAMe,eAAegD,MAC1B7E,KAAKc,MAAMe,eAAeiB,IAAIZ,EAAI,GACpC0C,EAAQlB,KACNR,EAAAC,EAAAC,cAAC8B,EAAD,CACE5B,IAAG,cAAAC,OAAgBvD,KAAKJ,MAAM4D,OAA3B,KAAAD,OAAqCrB,EAAI,GAC5CP,MAAOO,EAAI,EACXT,SAAUA,EACVsD,YAAaA,EACbE,aAAcA,EACdD,SAAUA,EACVG,YAAanF,KAAKyE,uBAKxB,OAAOvB,EAAAC,EAAAC,cAAA,OAAKQ,UAAS,iBAAoBgB,sDAtDXhF,EAAOwF,GACrC,MAAO,CACL3D,SAAU7B,EAAM6B,SAChBE,MAAO/B,EAAM+B,MACbE,eAAgBjC,EAAMiC,uBAhBTwD,IAAMf,WAsEnBgB,mLAEF,OAAOpC,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SAAf,YAFSyB,IAAMf,WAMpBiB,cACJ,SAAAA,EAAY3F,GAAO,IAAA4F,EAAA,OAAA1F,OAAAC,EAAA,EAAAD,CAAAE,KAAAuF,IACjBC,EAAA1F,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyF,GAAApF,KAAAH,KAAMJ,KACDuF,YAAcK,EAAKL,YAAY9E,KAAjBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAA0F,KAFFA,2EAKPpB,GACLpE,KAAKJ,MAAMmF,aACd/E,KAAKJ,MAAMuF,YAAYnF,KAAKJ,MAAM+B,8CAKpC,OACEuB,EAAAC,EAAAC,cAAA,UACEQ,UAAS,cAAAL,OAAgBvD,KAAKJ,MAAM6B,SAAW,SAAW,GAAjD,KAAA8B,OACPvD,KAAKJ,MAAMqF,aAAe,YAAc,GADjC,KAAA1B,OAELvD,KAAKJ,MAAMmF,YAAc,YAAc,GAFlC,KAAAxB,OAGNvD,KAAKJ,MAAMoF,UAAahF,KAAKJ,MAAMmF,YAA0B,GAAZ,UAH3C,MAAAxB,OAKPvD,KAAKJ,MAAM6B,UAAYzB,KAAKJ,MAAM+B,MAAQ,IAAM,EAC5C,iBACA,GAPG,KAAA4B,OASPvD,KAAKJ,MAAM6B,WAAazB,KAAKJ,MAAM+B,MAAQ,GAAK,IAAM,EAClD,iBACA,GAXG,KAAA4B,OAaPvD,KAAKJ,MAAM6B,UAAYzB,KAAKJ,MAAM+B,MAAQ,EAAI,iBAAmB,GAb1D,KAAA4B,OAcLvD,KAAKJ,MAAM6B,UAAYzB,KAAKJ,MAAM+B,MAAQ,EAAI,iBAAmB,GAd5D,cAAA4B,OAgBPvD,KAAKJ,MAAM6B,UACXzB,KAAKJ,MAAM+B,MAAQ,IAClB3B,KAAKJ,MAAM+B,MAAQ,GAAK,IAAM,EAC3B,kBACA,GApBG,cAAA4B,OAuBPvD,KAAKJ,MAAM6B,UACXzB,KAAKJ,MAAM+B,MAAQ,GACnB3B,KAAKJ,MAAM+B,MAAQ,IAAM,EACrB,kBACA,GA3BG,cAAA4B,OA8BPvD,KAAKJ,MAAM6B,UACXzB,KAAKJ,MAAM+B,MAAQ,IAClB3B,KAAKJ,MAAM+B,MAAQ,GAAK,IAAM,EAC3B,kBACA,GAlCG,cAAA4B,OAqCPvD,KAAKJ,MAAM6B,UACXzB,KAAKJ,MAAM+B,MAAQ,GACnB3B,KAAKJ,MAAM+B,MAAQ,IAAM,EACrB,kBACA,IAENwC,QACEnE,KAAKJ,MAAMmF,aAAe/E,KAAKJ,MAAMoF,SACjC,aACAhF,KAAKmF,YAEXxD,MAAO3B,KAAKJ,MAAM+B,OAEjB3B,KAAKJ,MAAM+B,wCAMhB,OAAO3B,KAAKyF,sBAvEKJ,IAAMf,WA2EZ3E,ICpTF+F,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACH5C,EAAAC,EAAAC,cAACF,EAAAC,EAAM4C,WAAP,KACE7C,EAAAC,EAAAC,cAAC4C,EAAD","file":"static/js/main.c9c3a9c6.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Board.css\";\nimport sudoku from \"./sudoku_data.json\";\n\nclass Board extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    let randomDataIndex = Math.floor(Math.random() * sudoku.data.length);\n    this.randomDataIndex = randomDataIndex;\n    this.state = this.initializeboardState(randomDataIndex);\n    this.state.hasHelp = true;\n  }\n\n  initializeboardState(dataIndex) {\n    if (dataIndex !== undefined) {\n      console.log(\"Sudoku\", dataIndex, \"loaded succesfully!\");\n      return {\n        cells: sudoku.data[dataIndex].split(\"\").map((c) => {\n          return {\n            isActive: parseInt(c) > 0,\n            value: parseInt(c),\n            isInitial: parseInt(c) > 0,\n            allowedNumbers: new Set(),\n          };\n        }),\n      };\n    }\n    return {\n      cells: Array.from({ length: 81 }, (_, i) => {\n        return {\n          isActive: false,\n          value: 0,\n          isInitial: false,\n          allowedNumbers: new Set([1, 2, 3, 4, 5, 6, 7, 8, 9]),\n        };\n      }),\n    };\n  }\n\n  resetInitialIndex() {\n    let randomDataIndex = Math.floor(Math.random() * sudoku.data.length);\n    this.randomDataIndex = randomDataIndex;\n    this.setState(this.initializeboardState(randomDataIndex));\n  }\n\n  computeAllowedNumbers(cellNumber) {\n    if (!this.state) {\n      return Array.from({ length: 9 }, (_, i) => i + 1);\n    }\n    const column = cellNumber % 9;\n    const row = Math.floor(cellNumber / 9);\n    const blockColumn = Math.floor(column / 3);\n    const blockRow = Math.floor(row / 3);\n\n    const foundNumbers = new Set();\n\n    for (let x = 0; x < 9; x++) {\n      foundNumbers.add(parseInt(this.state.cells[row * 9 + x].value));\n    }\n\n    for (let x = 0; x < 9; x++) {\n      foundNumbers.add(parseInt(this.state.cells[column + 9 * x].value));\n    }\n\n    for (let x = 0; x < 3; x++) {\n      for (let y = 0; y < 3; y++) {\n        foundNumbers.add(\n          parseInt(\n            this.state.cells[blockRow * 9 * 3 + blockColumn * 3 + x + 9 * y]\n              .value\n          )\n        );\n      }\n    }\n\n    const allowedNumbers = new Set();\n    for (let index = 1; index <= 9; index++) {\n      if (!foundNumbers.has(index)) allowedNumbers.add(index);\n    }\n    return allowedNumbers;\n  }\n\n  handleChange(cellNumber, activeState, value) {\n    const updateCells = this.state.cells;\n\n    updateCells[cellNumber] = {\n      isActive: activeState,\n      value,\n    };\n    this.setState({ cells: updateCells });\n  }\n\n  toggleHelp() {\n    this.setState({ hasHelp: !this.state.hasHelp });\n  }\n\n  renderCell(i) {\n    const allowedNumbers = this.computeAllowedNumbers(i);\n    return (\n      <Cell\n        key={`Cell-${i}`}\n        number={i}\n        isActive={this.state.cells[i].isActive}\n        isInitial={this.state.cells[i].isInitial}\n        value={this.state.cells[i].value}\n        allowedNumbers={allowedNumbers}\n        hasHelp={this.state.hasHelp}\n        handleChange={this.handleChange}\n      />\n    );\n  }\n\n  render() {\n    const cells = [];\n    for (let i = 0; i < 81; i++) {\n      cells.push(this.renderCell(i));\n    }\n    return (\n      <div className=\"BoardContainer\">\n        <div className=\"Board\"> {cells}</div>\n\n        <div className=\"UIContainer\">\n          <div className=\"helpToggle UIButton\">\n            <input\n              type=\"checkbox\"\n              id=\"switch\"\n              defaultChecked={this.state.hasHelp}\n              onChange={() => this.toggleHelp()}\n            />\n            <label for=\"switch\">Help</label>\n          </div>\n\n          <button\n            className=\"UIButton\"\n            onClick={(e) => {\n              this.setState(this.resetInitialIndex());\n            }}\n          >\n            random\n          </button>\n          <button\n            className=\"UIButton\"\n            onClick={(e) => {\n              this.setState(this.initializeboardState(this.randomDataIndex));\n            }}\n          >\n            reset\n          </button>\n          <button\n            className=\"UIButton\"\n            onClick={(e) => {\n              this.setState(this.initializeboardState());\n            }}\n          >\n            empty\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Cell extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isActive: props.isActive,\n      value: props.value,\n      number: props.number,\n      allowedNumbers: props.allowedNumbers,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClickOnNumber = this.handleClickOnNumber.bind(this);\n  }\n  static getDerivedStateFromProps(props, current_state) {\n    return {\n      isActive: props.isActive,\n      value: props.value,\n      allowedNumbers: props.allowedNumbers,\n    };\n  }\n\n  handleChange(val) {\n    if (this.props.isActive) {\n      return this.props.handleChange(this.props.number, false, 0);\n    }\n    return this.props.handleChange(this.props.number, true, val);\n  }\n\n  handleClickOnNumber(v) {\n    this.handleChange(v);\n  }\n\n  render() {\n    const numbers = [];\n    if (this.state.allowedNumbers.size === 0 && !this.state.isActive) {\n      return (\n        <div className={`Cell`}>\n          <Error></Error>\n        </div>\n      );\n    }\n    for (let i = 0; i < 9; i++) {\n      const isActive = this.state.value === i + 1;\n      const isProtected = this.state.value === i + 1 && this.props.isInitial;\n      const isHidden =\n        (this.state.isActive && this.state.value !== i + 1) ||\n        (!this.state.isActive &&\n          this.props.hasHelp &&\n          !this.state.allowedNumbers.has(i + 1));\n      const isHightlight =\n        !isHidden &&\n        this.props.hasHelp &&\n        this.state.allowedNumbers.size === 1 &&\n        this.state.allowedNumbers.has(i + 1);\n      numbers.push(\n        <Number\n          key={`CellNumber-${this.props.number}-${i + 1}`}\n          value={i + 1}\n          isActive={isActive}\n          isProtected={isProtected}\n          isHightlight={isHightlight}\n          isHidden={isHidden}\n          handleClick={this.handleClickOnNumber}\n        ></Number>\n      );\n    }\n\n    return <div className={`Cell GridCell`}>{numbers}</div>;\n  }\n}\n\nclass Error extends React.Component {\n  render() {\n    return <div className=\"Error\">!</div>;\n  }\n}\n\nclass Number extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(e) {\n    if (!this.props.isProtected) {\n      this.props.handleClick(this.props.value);\n    }\n  }\n\n  renderNumber() {\n    return (\n      <button\n        className={`CellNumber ${this.props.isActive ? \"active\" : \"\"} ${\n          this.props.isHightlight ? \"highlight\" : \"\"\n        } ${this.props.isProtected ? \"protected\" : \"\"} ${\n          !this.props.isHidden && !this.props.isProtected ? \"visible\" : \"\"\n        }  ${\n          this.props.isActive && this.props.value % 3 === 0\n            ? \"active-shift-l\"\n            : \"\"\n        } ${\n          this.props.isActive && (this.props.value + 2) % 3 === 0\n            ? \"active-shift-r\"\n            : \"\"\n        } ${\n          this.props.isActive && this.props.value < 4 ? \"active-shift-b\" : \"\"\n        } ${this.props.isActive && this.props.value > 6 ? \"active-shift-t\" : \"\"}\n        ${\n          this.props.isActive &&\n          this.props.value < 4 &&\n          (this.props.value + 2) % 3 === 0\n            ? \"active-shift-br\"\n            : \"\"\n        }\n        ${\n          this.props.isActive &&\n          this.props.value < 4 &&\n          this.props.value % 3 === 0\n            ? \"active-shift-bl\"\n            : \"\"\n        }\n        ${\n          this.props.isActive &&\n          this.props.value > 6 &&\n          (this.props.value + 2) % 3 === 0\n            ? \"active-shift-tr\"\n            : \"\"\n        }\n        ${\n          this.props.isActive &&\n          this.props.value > 6 &&\n          this.props.value % 3 === 0\n            ? \"active-shift-tl\"\n            : \"\"\n        }`}\n        onClick={\n          this.props.isProtected || this.props.isHidden\n            ? () => {}\n            : this.handleClick\n        }\n        value={this.props.value}\n      >\n        {this.props.value}\n      </button>\n    );\n  }\n\n  render() {\n    return this.renderNumber();\n  }\n}\n\nexport default Board;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\n\nimport Board from \"./Board\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <Board />\n    {/* <TodoCount todos={todos} />\n      <TodoList todos={todos} />\n      <AddTodo setTodos={setTodos} /> */}\n  </React.StrictMode>\n);\n"],"sourceRoot":""}