{"version":3,"sources":["Board.js","index.js"],"names":["Board","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","bind","assertThisInitialized","randomDataIndex","Math","floor","random","sudoku","data","length","state","initializeboardState","hasHelp","dataIndex","undefined","cells","split","map","c","isActive","parseInt","value","isInitial","allowedNumbers","Set","Array","from","_","i","toConsumableArray","keys","setState","cellNumber","column","row","blockColumn","blockRow","foundNumbers","x","add","y","index","has","activeState","updateCells","computeAllowedNumbers","react_default","a","createElement","Board_Cell","key","concat","number","_this2","push","renderCell","className","type","id","defaultChecked","onChange","toggleHelp","for","onClick","e","resetInitialIndex","Component","Cell","_this3","handleClickOnNumber","val","v","numbers","isProtected","isHidden","isHightlight","size","Board_Number","handleClick","current_state","React","Number","_this4","renderNumber","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_Board_0"],"mappings":"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","file":"static/js/main.63c11006.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Board.css\";\nimport sudoku from \"./sudoku_data.json\";\n\nclass Board extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    let randomDataIndex = Math.floor(Math.random() * sudoku.data.length);\n    this.randomDataIndex = randomDataIndex;\n    this.state = this.initializeboardState(randomDataIndex);\n    this.state.hasHelp = true;\n  }\n\n  initializeboardState(dataIndex) {\n    if (dataIndex !== undefined) {\n      return {\n        cells: sudoku.data[dataIndex].split(\"\").map((c) => {\n          return {\n            isActive: parseInt(c) > 0 ? true : false,\n            value: parseInt(c),\n            isInitial: parseInt(c) > 0 ? true : false,\n            allowedNumbers: new Set(),\n          };\n        }),\n      };\n    }\n    return {\n      cells: Array.from({ length: 81 }, (_, i) => {\n        return {\n          isActive: false,\n          value: 0,\n          isInitial: false,\n          allowedNumbers: [...Array(10).keys()],\n        };\n      }),\n    };\n  }\n\n  resetInitialIndex() {\n    let randomDataIndex = Math.floor(Math.random() * sudoku.data.length);\n    this.randomDataIndex = randomDataIndex;\n    this.setState(this.initializeboardState(randomDataIndex));\n  }\n\n  computeAllowedNumbers(cellNumber) {\n    if (!this.state) {\n      return Array.from({ length: 9 }, (_, i) => i + 1);\n    }\n    const column = cellNumber % 9;\n    const row = Math.floor(cellNumber / 9);\n    const blockColumn = Math.floor(column / 3);\n    const blockRow = Math.floor(row / 3);\n\n    const foundNumbers = new Set();\n\n    for (let x = 0; x < 9; x++) {\n      foundNumbers.add(parseInt(this.state.cells[row * 9 + x].value));\n    }\n\n    for (let x = 0; x < 9; x++) {\n      foundNumbers.add(parseInt(this.state.cells[column + 9 * x].value));\n    }\n\n    for (let x = 0; x < 3; x++) {\n      for (let y = 0; y < 3; y++) {\n        foundNumbers.add(\n          parseInt(\n            this.state.cells[blockRow * 9 * 3 + blockColumn * 3 + x + 9 * y]\n              .value\n          )\n        );\n      }\n    }\n\n    const allowedNumbers = new Set();\n    for (let index = 1; index <= 9; index++) {\n      if (!foundNumbers.has(index)) allowedNumbers.add(index);\n    }\n    return allowedNumbers;\n  }\n\n  handleChange(cellNumber, activeState, value) {\n    const updateCells = this.state.cells;\n\n    updateCells[cellNumber] = {\n      isActive: activeState,\n      value,\n    };\n    this.setState({ cells: updateCells });\n  }\n\n  toggleHelp() {\n    this.setState({ hasHelp: !this.state.hasHelp });\n  }\n\n  renderCell(i) {\n    const allowedNumbers = this.computeAllowedNumbers(i);\n    return (\n      <Cell\n        key={`Cell-${i}`}\n        number={i}\n        isActive={this.state.cells[i].isActive}\n        isInitial={this.state.cells[i].isInitial}\n        value={this.state.cells[i].value}\n        allowedNumbers={allowedNumbers}\n        hasHelp={this.state.hasHelp}\n        handleChange={this.handleChange}\n      />\n    );\n  }\n\n  render() {\n    const cells = [];\n    for (let i = 0; i < 81; i++) {\n      cells.push(this.renderCell(i));\n    }\n    return (\n      <div className=\"BoardContainer\">\n        <div className=\"Board\"> {cells}</div>\n\n        <div className=\"UIContainer\">\n          <div className=\"helpToggle UIButton\">\n            <input\n              type=\"checkbox\"\n              id=\"switch\"\n              defaultChecked={this.state.hasHelp}\n              onChange={() => this.toggleHelp()}\n            />\n            <label for=\"switch\">Help</label>\n          </div>\n\n          <button\n            className=\"UIButton\"\n            onClick={(e) => {\n              this.setState(this.resetInitialIndex());\n            }}\n          >\n            random\n          </button>\n          <button\n            className=\"UIButton\"\n            onClick={(e) => {\n              this.setState(this.initializeboardState(this.randomDataIndex));\n            }}\n          >\n            reset\n          </button>\n          <button\n            className=\"UIButton\"\n            onClick={(e) => {\n              this.setState(this.initializeboardState());\n            }}\n          >\n            empty\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Cell extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isActive: props.isActive,\n      value: props.value,\n      number: props.number,\n      allowedNumbers: props.allowedNumbers,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClickOnNumber = this.handleClickOnNumber.bind(this);\n  }\n  static getDerivedStateFromProps(props, current_state) {\n    return {\n      isActive: props.isActive,\n      value: props.value,\n      allowedNumbers: props.allowedNumbers,\n    };\n  }\n\n  handleChange(val) {\n    if (this.props.isActive) {\n      return this.props.handleChange(this.props.number, false, 0);\n    }\n    return this.props.handleChange(this.props.number, true, val);\n  }\n\n  handleClickOnNumber(v) {\n    this.handleChange(v);\n  }\n\n  render() {\n    const numbers = [];\n\n    for (let i = 0; i < 9; i++) {\n      const isActive = this.state.value === i + 1;\n      const isProtected = this.state.value === i + 1 && this.props.isInitial;\n      const isHidden =\n        (this.state.isActive && this.state.value !== i + 1) ||\n        (!this.state.isActive &&\n          this.props.hasHelp &&\n          !this.state.allowedNumbers.has(i + 1));\n      const isHightlight =\n        !isHidden &&\n        this.props.hasHelp &&\n        this.state.allowedNumbers.size === 1 &&\n        this.state.allowedNumbers.has(i + 1);\n      numbers.push(\n        <Number\n          key={`CellNumber-${this.props.number}-${i + 1}`}\n          value={i + 1}\n          isActive={isActive}\n          isProtected={isProtected}\n          isHightlight={isHightlight}\n          isHidden={isHidden}\n          handleClick={this.handleClickOnNumber}\n        ></Number>\n      );\n    }\n\n    return <div className={`Cell`}>{numbers}</div>;\n  }\n}\n\nclass Number extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(e) {\n    if (!this.props.isProtected) {\n      this.props.handleClick(this.props.value);\n    }\n  }\n\n  renderNumber() {\n    return (\n      <button\n        className={`CellNumber ${this.props.isActive ? \"active\" : \"\"} ${\n          this.props.isHightlight ? \"highlight\" : \"\"\n        } ${this.props.isProtected ? \"protected\" : \"\"} ${\n          !this.props.isHidden && !this.props.isActive ? \"visible\" : \"\"\n        }  ${\n          this.props.isActive && this.props.value % 3 === 0\n            ? \"active-shift-l\"\n            : \"\"\n        } ${\n          this.props.isActive && (this.props.value + 2) % 3 === 0\n            ? \"active-shift-r\"\n            : \"\"\n        } ${\n          this.props.isActive && this.props.value < 4 ? \"active-shift-b\" : \"\"\n        } ${this.props.isActive && this.props.value > 6 ? \"active-shift-t\" : \"\"}\n        ${\n          this.props.isActive &&\n          this.props.value < 4 &&\n          (this.props.value + 2) % 3 === 0\n            ? \"active-shift-br\"\n            : \"\"\n        }\n        ${\n          this.props.isActive &&\n          this.props.value < 4 &&\n          this.props.value % 3 === 0\n            ? \"active-shift-bl\"\n            : \"\"\n        }\n        ${\n          this.props.isActive &&\n          this.props.value > 6 &&\n          (this.props.value + 2) % 3 === 0\n            ? \"active-shift-tr\"\n            : \"\"\n        }\n        ${\n          this.props.isActive &&\n          this.props.value > 6 &&\n          this.props.value % 3 === 0\n            ? \"active-shift-tl\"\n            : \"\"\n        }`}\n        onClick={\n          this.props.isProtected || this.props.isHidden\n            ? () => {}\n            : this.handleClick\n        }\n        value={this.props.value}\n      >\n        {this.props.value}\n      </button>\n    );\n  }\n\n  render() {\n    return this.renderNumber();\n  }\n}\n\nexport default Board;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\n\nimport Board from \"./Board\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <Board />\n    {/* <TodoCount todos={todos} />\n      <TodoList todos={todos} />\n      <AddTodo setTodos={setTodos} /> */}\n  </React.StrictMode>\n);\n"],"sourceRoot":""}